<template>
  <div dark class="item-container">
    <div class="item-container__inner">
      <div class="blog-list-inner__thumb hidden-sm-and-down" v-if="post.image && post.image.length">
        <img class="blog-list-inner__thumb--image" :src="post.image[0]">
      </div>
      <div class="outer-link" :class="{'no-image': !post.image || $vuetify.breakpoint.smAndDown}">
        <v-icon v-if="post.pinned" class="pin">icon-pushpin</v-icon>
        <div>
          <div class="link-content">
            <h4>{{which === 'coding' ? '> ' : ''}}{{post.title}}{{which === 'coding' ? '_' : ''}}</h4>
          </div>
        </div>
        <div
          class="blog-list-inner"
          :class="{'switch-direction': $vuetify.breakpoint.mdAndDown && isMounted}"
        >
          <div class="blog-list-inner__text">
            <small>{{ post.created_at }}</small>
            <p>{{ post.intro }}</p>
          </div>
        </div>
        <nuxt-link :to="`/blog/${which}/${post.slug}`">
          <v-btn class="nes-btn continue-button">Continue Reading -></v-btn>
        </nuxt-link>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  props: ['post', 'which'],
  data() {
    return {
      isMounted: false
    };
  },
  mounted() {
    this.isMounted = true;
  }
};
</script>

<style lang="scss">
@import '~/assets/style/theme.scss';
.item-container {
  width: 100%;
  height: 100%;
  margin: auto 1rem;
  border: 2px solid $pacman-purple;
  background-color: #000;
  padding: 0.5rem;
  display: flex;
  // max-height: 26rem;
  .item-container__inner {
    border: 2px solid $pacman-purple;
    // padding: 1rem;
  }
  .blog-list-inner__thumb {
    width: 30%;
    display: flex;
    flex-direction: column;
    max-height: 26rem;
    .blog-list-inner__thumb--image {
      flex: 1;
      width: 100%;
      height: auto;
      max-height: 26rem;
      object-fit: cover;
    }
  }
  button.continue-button.nes-btn {
    min-width: 15rem;
    max-width: 20rem;
    margin-left: 1rem;
    div.v-btn__content {
      font-family: $game-font;
      font-size: 0.85rem;
    }
  }
  &:hover {
    .v-card__title .link-content h4 {
      color: $warning;
    }
  }
  &:visited {
    .v-card__title .link-content h4 {
      color: $success;
    }
  }
  &:active {
    .v-card__title .link-content h4 {
      color: $danger;
    }
  }
  .outer-link {
    display: flex;
    flex-direction: column;
    width: 70%;
    &.no-image {
      width: 100%;
    }
    .v-card__title {
      padding: 1rem 1rem 0 1rem;
    }
    .pin {
      position: absolute;
      right: 0.2rem;
      top: 0.2rem;
      color: $yellow;
    }
    .link-content h4 {
      color: $success;
      margin-right: 1rem;
    }
  }
  .blog-list-inner {
    display: flex;
    justify-content: space-between;
    padding: 0;
    $font-family: $primary-font;
    flex: 1;
    &.switch-direction {
      flex-direction: column;
    }
    .blog-list-inner__text {
      margin-right: 1rem;
      color: $white;
      $font-family: $primary-font;
      small {
        color: $light;
        font-family: $primary-font;
        font-style: italic;
      }
    }
  }
}
</style>